<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Admin Panel</title>
    <link rel="stylesheet" href="./dashboard.css" />
    <link rel="stylesheet" href="./sidebar.css" />
  </head>
  <body>
    <!-- Sidebar for navigation -->
    <div class="sidebar">
      <div class="logo-details">
        <!-- Icon and logo name -->
        <i class="bx bxl-c-plus-plus icon"></i>
        <div class="logo_name">Symphony</div>
        <i class="bx bx-menu" id="btn"></i>
        <!-- Menu button to toggle sidebar -->
      </div>
      <ul class="nav-list">
        <!-- List of navigation items -->
        <li>
          <a href="#">
            <i class="bx bx-grid-alt"></i>
            <span class="links_name">Dashboard</span>
          </a>
          <span class="tooltip">Dashboard</span>
        </li>
        <!-- Additional navigation items -->
        <li>
          <a href="#">
            <i class="bx bx-user"></i>
            <span class="links_name">Students</span>
          </a>
          <span class="tooltip">Students</span>
        </li>
        <li>
          <a href="#">
            <i class="bx bx-folder"></i>
            <span class="links_name">Courses</span>
          </a>
          <span class="tooltip">Courses</span>
        </li>
        <li>
          <a href="#">
            <i class="bx bx-pie-chart-alt-2"></i>
            <span class="links_name">About</span>
          </a>
          <span class="tooltip">About</span>
        </li>
        <li>
          <a href="#">
            <i class="bx bx-folder"></i>
            <span class="links_name">FAQ's</span>
          </a>
          <span class="tooltip">FAQ's</span>
        </li>
        <li>
          <a href="#">
            <i class="bx bx-cart-alt"></i>
            <span class="links_name">Contact Info</span>
          </a>
          <span class="tooltip">Contact</span>
        </li>
        <li>
          <a href="#">
            <i class="bx bx-heart"></i>
            <span class="links_name">Saved</span>
          </a>
          <span class="tooltip">Saved</span>
        </li>
        <li>
          <a href="#">
            <i class="bx bx-cog"></i>
            <span class="links_name">Setting</span>
          </a>
          <span class="tooltip">Setting</span>
        </li>
      </ul>
    </div>
    <!-- Main content area -->
    <section class="home-section">
      <div class="navbar">
        <div class="logo"></div>
        <div class="user-menu" id="userMenu">
          <span class="username">John Doe</span>
          <div class="dropdown" id="dropdownMenu">
            <a href="">Messages</a>
            <a href="">Logout</a>
          </div>
        </div>
      </div>
      <div class="container">
        <div class="heading">FAQ Management</div>
        <h2>Add / Update FAQ</h2>
        <form id="faqForm">
          <input
            type="text"
            id="question"
            placeholder="Enter question"
            required
          />
          <textarea id="answer" placeholder="Enter answer" required></textarea>
          <button type="submit">Save FAQ</button>
        </form>

        <h2>Manage FAQs</h2>
        <div id="faqList"></div>
      </div>
    </section>
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    <script>
      $(document).ready(function () {
        $("#userMenu").click(function (e) {
          e.stopPropagation();
          $("#dropdownMenu").toggleClass("active");
        });

        $(document).click(function () {
          $("#dropdownMenu").removeClass("active");
        });
      });
    </script>

    <script>
      // Get the sidebar, close button
      let sidebar = document.querySelector(".sidebar");
      let closeBtn = document.querySelector("#btn");
      let navList = document.querySelector(".nav-list");

      // Event listener for the menu button to toggle the sidebar open/close
      closeBtn.addEventListener("click", () => {
        sidebar.classList.toggle("open"); // Toggle the sidebar's open state
        navList.classList.toggle("scroll"); // Toggle scroll state
        menuBtnChange(); // Call function to change button icon
      });

      // Function to change the menu button icon
      function menuBtnChange() {
        if (sidebar.classList.contains("open")) {
          closeBtn.classList.replace("bx-menu", "bx-menu-alt-right"); // Change icon to indicate closing
        } else {
          closeBtn.classList.replace("bx-menu-alt-right", "bx-menu"); // Change icon to indicate opening
        }
      }

      //FAQ
      const faqList = document.getElementById("faqList");
      const faqForm = document.getElementById("faqForm");

      // Default FAQs (your 7 questions)
      let faqs = [
        {
          question: "How to join the course?",
          answer:
            "Follow the admission procedure provided by the institute. Admin updates details regularly.",
        },
        {
          question: "Why to join the institute?",
          answer:
            "You gain access to expert faculty, lab facilities, career guidance, and certifications.",
        },
        {
          question: "When will Entrance Examinations be conducted?",
          answer:
            "Exams are conducted every 6 months. Check website for details. Fees will be displayed on the application form.",
        },
        {
          question:
            "Can I use the Lab facilities after my class hours? Any hidden charges?",
          answer:
            "Yes, till 9 PM during course (free). After course: $1000 if at registration, $1500 if later.",
        },
        {
          question: "How can I apply for the entrance exam?",
          answer:
            "Apply at center (paper) or online once announced. Choose course in form.",
        },
        {
          question: "Will there be any fees for the entrance exam?",
          answer: "Yes, fees will be available on the application form.",
        },
        {
          question: "How to make the payment?",
          answer:
            "Payment via draft, cheque or cash. Receipt/Bank details required. Exam details sent after confirmation.",
        },
      ];

      let editIndex = -1;

      function renderFAQs() {
        faqList.innerHTML = "";
        faqs.forEach((faq, index) => {
          const faqItem = document.createElement("div");
          faqItem.classList.add("faq");
          faqItem.innerHTML = `
          <div class="faq-question">
            <span>${faq.question}</span>
            <div class="actions">
              <button class="edit-btn" onclick="editFAQ(${index})">Edit</button>
              <button class="delete-btn" onclick="deleteFAQ(${index})">Delete</button>
            </div>
          </div>
          <div class="faq-answer">${faq.answer}</div>
        `;

          faqItem
            .querySelector(".faq-question")
            .addEventListener("click", (e) => {
              if (
                !e.target.classList.contains("edit-btn") &&
                !e.target.classList.contains("delete-btn")
              ) {
                faqItem.classList.toggle("active");
              }
            });

          faqList.appendChild(faqItem);
        });
      }

      // Add / Update FAQ
      faqForm.addEventListener("submit", (e) => {
        e.preventDefault();
        const question = document.getElementById("question").value;
        const answer = document.getElementById("answer").value;

        if (editIndex === -1) {
          faqs.push({ question, answer });
        } else {
          faqs[editIndex] = { question, answer };
          editIndex = -1;
        }

        renderFAQs();
        faqForm.reset();
      });

      // Edit FAQ
      function editFAQ(index) {
        const faq = faqs[index];
        document.getElementById("question").value = faq.question;
        document.getElementById("answer").value = faq.answer;
        editIndex = index;
      }

      // Delete FAQ
      function deleteFAQ(index) {
        if (confirm("Are you sure you want to delete this FAQ?")) {
          faqs.splice(index, 1);
          renderFAQs();
        }
      }

      renderFAQs();
    </script>
  </body>
</html>
